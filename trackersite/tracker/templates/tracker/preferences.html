{% extends "base.html" %}
{% load i18n widget_tweaks %}
{% block title %}
{% trans "Preferences" %}
{% endblock %}

{% block content %}
<p class="nav"><a href="{% url "ticket_list" %}">{% trans "index" %}</a> &gt; </p>

<h1>
    {% trans "Preferences" %}
</h1>
<div class="container">
    <form enctype="multipart/form-data" class="form-horizontal" method="POST">
        <h3>{% trans "Mute notifications" %}</h3>
        {% csrf_token %}
        <table class="dataTable">
            <tbody>
            {% for notification_type in notification_types %}
                <tr>
                    <td class="checkbox_label"><label for="{{notification_type.0}}">{{notification_type.1}}</label></td>
                    <td><input type="checkbox" name="{{notification_type.0}}" id="{{notification_type.0}}" {% if notification_type.2 %}checked{% endif %}></td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        <h3>{% trans "Ignore ack types" %}</h3>
        <table class="dataTable">
            <tbody>
            {% for ack_type in ack_types %}
                <tr>
                    <td class="checkbox_label"><label for="{{ack_type.0}}">{{ack_type.1}}</label></td>
                    <td><input type="checkbox" name="{{ack_type.0}}" id="{{ack_type.0}}" {% if ack_type.2 %}checked{% endif %}></td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        <h3>{% trans "Other"%}</h3>
        {% for field in preferences_form %}
            {{ field.error }}
            {{ field.label_tag }} {{ field|add_class:"form-control" }}
        {% endfor %}
        <input class="form-control" type="submit" value="{% trans "Save" %}" />
    </form>
    <br>
    <h3>{% trans "Account actions" %}</h3>
    <a href="{% url "deactivate_account" %}">
        <button class="btn btn-danger">{% trans "Deactivate account" %}</button>
    </a>
</div>
<br>
{% endblock %}
